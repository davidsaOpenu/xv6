{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ad1d2fb9_eea92361",
        "filename": "/COMMIT_MSG",
        "patchSetId": 16
      },
      "lineNbr": 23,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-28T17:04:36Z",
      "side": 1,
      "message": "from https://review.gerrithub.io/c/davidsaOpenu/xv6-ns/+/519585 also \n\nCo-Authored-By: Alon Wartski \u003calon.w.10@gmail.com\u003e",
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "418c4550_0ebcb066",
        "filename": "/COMMIT_MSG",
        "patchSetId": 16
      },
      "lineNbr": 23,
      "author": {
        "id": 1021119
      },
      "writtenOn": "2024-08-30T12:53:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ad1d2fb9_eea92361",
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6250a983_b3bb0b59",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-28T16:53:34Z",
      "side": 1,
      "message": "Thanks for working on this change! \n\ncomments inline",
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2067b08c_c7483a70",
        "filename": "cgroup.h",
        "patchSetId": 16
      },
      "lineNbr": 22,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-28T16:53:34Z",
      "side": 1,
      "message": "let\u0027s define CGROUP parameter values either here or in param.h.\nThere are several CGROUP parameter values already defined in params.h and having some of them defined here and others there creates inconsistency.",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 22,
        "endChar": 37
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d39d8b37_4e410bad",
        "filename": "cgroup.h",
        "patchSetId": 16
      },
      "lineNbr": 22,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-29T12:22:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2067b08c_c7483a70",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 22,
        "endChar": 37
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7b395036_c1a51e8b",
        "filename": "cgroup.h",
        "patchSetId": 16
      },
      "lineNbr": 22,
      "author": {
        "id": 1021119
      },
      "writtenOn": "2024-08-30T12:53:41Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "2067b08c_c7483a70",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 22,
        "endChar": 37
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e9a35d2_814c29d0",
        "filename": "cpu_account.c",
        "patchSetId": 16
      },
      "lineNbr": 123,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-28T16:53:34Z",
      "side": 1,
      "message": "Is it only me that lacks the correlation between the  lock name (curr_frame_total_process_cpu_time) and the update of the variable (real_cpu_percent ) that the lock protects?",
      "range": {
        "startLine": 120,
        "startChar": 0,
        "endLine": 123,
        "endChar": 55
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5163cc0b_0dcb8822",
        "filename": "cpu_account.c",
        "patchSetId": 16
      },
      "lineNbr": 123,
      "author": {
        "id": 1021119
      },
      "writtenOn": "2024-08-30T12:53:41Z",
      "side": 1,
      "message": "it protects the usage of curr_frame_total_process_and_cpu_time in calculating the final real_cpu_percent",
      "parentUuid": "3e9a35d2_814c29d0",
      "range": {
        "startLine": 120,
        "startChar": 0,
        "endLine": 123,
        "endChar": 55
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b1d6d373_dc3c8165",
        "filename": "cpu_account.h",
        "patchSetId": 16
      },
      "lineNbr": 12,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-28T16:53:34Z",
      "side": 1,
      "message": "let\u0027s add an explanations to those fields. \n\nplus I\u0027m not confident with \n\ncpu_account.c:15:  cpu-\u003ecurr_frame_total_process_cpu_time \u003d 1;\ncpu_account.c:147:    cpu-\u003ecurr_frame_total_process_cpu_time \u003d 1;\ncpu_account.c:156:  cpu-\u003ecurr_frame_total_process_cpu_time +\u003d cpu-\u003eprocess_cpu_time;\ncpu_account.c:197:    cpu-\u003ecurr_frame_total_process_cpu_time \u003d 1;\ncpu_account.h:11:  unsigned int curr_frame_total_process_cpu_time;",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 12,
        "endChar": 22
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fba82c97_498e6320",
        "filename": "cpu_account.h",
        "patchSetId": 16
      },
      "lineNbr": 12,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-29T12:22:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b1d6d373_dc3c8165",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 12,
        "endChar": 22
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49e8170e_42052ac4",
        "filename": "runtests.exp",
        "patchSetId": 16
      },
      "lineNbr": 73,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-28T16:53:34Z",
      "side": 1,
      "message": "let\u0027s remove",
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fa49488c_99e7a5e5",
        "filename": "runtests.exp",
        "patchSetId": 16
      },
      "lineNbr": 73,
      "author": {
        "id": 1021119
      },
      "writtenOn": "2024-08-30T12:53:41Z",
      "side": 1,
      "message": "I had to leave the sleep. couldn\u0027t get no error in the test not locally or remotely. Looks like with the addition of cpu weight I believe it impacts the execution a bit a slows it a little bit down. \nI was able to decrease it to 0.5 seconds which is ok, like the other sleeps in the tests and it works fine.",
      "parentUuid": "49e8170e_42052ac4",
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7b30105_bc49ca76",
        "filename": "runtests.exp",
        "patchSetId": 16
      },
      "lineNbr": 163,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-28T16:53:34Z",
      "side": 1,
      "message": "let\u0027s revert to 0.5",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 15
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "159fbef8_587e922a",
        "filename": "runtests.exp",
        "patchSetId": 16
      },
      "lineNbr": 163,
      "author": {
        "id": 1021119
      },
      "writtenOn": "2024-08-30T12:53:41Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "f7b30105_bc49ca76",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 163,
        "endChar": 15
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0fb014e_df22354f",
        "filename": "runtests.exp",
        "patchSetId": 16
      },
      "lineNbr": 208,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-28T16:53:34Z",
      "side": 1,
      "message": "let\u0027s remove those timeouts",
      "range": {
        "startLine": 184,
        "startChar": 0,
        "endLine": 208,
        "endChar": 13
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "70cb727b_c638feeb",
        "filename": "runtests.exp",
        "patchSetId": 16
      },
      "lineNbr": 208,
      "author": {
        "id": 1021119
      },
      "writtenOn": "2024-08-30T12:53:41Z",
      "side": 1,
      "message": "I had to leave the one near rm -r. couldn\u0027t get no error in the test in 22.04 not locally or remotely. Seems like it was always a bit buggy in this section, and now with the addition of the cpu weight I believe it impacts the execution a bit a slows it a little bit down.\nThe other sleeps in this section were removed.",
      "parentUuid": "b0fb014e_df22354f",
      "range": {
        "startLine": 184,
        "startChar": 0,
        "endLine": 208,
        "endChar": 13
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb46cff6_c408618e",
        "filename": "runtests.exp",
        "patchSetId": 16
      },
      "lineNbr": 291,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-28T16:53:34Z",
      "side": 1,
      "message": "let\u0027s remove",
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2588df53_66d80536",
        "filename": "runtests.exp",
        "patchSetId": 16
      },
      "lineNbr": 291,
      "author": {
        "id": 1021119
      },
      "writtenOn": "2024-08-30T12:53:41Z",
      "side": 1,
      "message": "I had to leave the one near rm -r. couldn\u0027t get no error in the test in 22.04 not locally or remotely. Seems like it was always a bit buggy in this section, and now with the addition of the cpu weight I believe it impacts the execution a bit a slows it a little bit down. \nI was able to decrease it to 2 seconds.",
      "parentUuid": "bb46cff6_c408618e",
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3c5d7e6_cab9220e",
        "filename": "runtests.exp",
        "patchSetId": 16
      },
      "lineNbr": 428,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-28T16:53:34Z",
      "side": 1,
      "message": "lets revert to 2 sec. Even 2 is too much",
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ca1fef0c_063c5c51",
        "filename": "runtests.exp",
        "patchSetId": 16
      },
      "lineNbr": 428,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-29T12:22:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c3c5d7e6_cab9220e",
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0677ccc7_4eb6887d",
        "filename": "runtests.exp",
        "patchSetId": 16
      },
      "lineNbr": 428,
      "author": {
        "id": 1021119
      },
      "writtenOn": "2024-08-30T12:53:41Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "c3c5d7e6_cab9220e",
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9f1d1dc7_9036d6e5",
        "filename": "runtests.exp",
        "patchSetId": 16
      },
      "lineNbr": 494,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-28T16:53:34Z",
      "side": 1,
      "message": "let\u0027s remove this",
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "14779d2f_0241de62",
        "filename": "runtests.exp",
        "patchSetId": 16
      },
      "lineNbr": 494,
      "author": {
        "id": 1021119
      },
      "writtenOn": "2024-08-30T12:53:41Z",
      "side": 1,
      "message": "I had to leave the one near rm -r. couldn\u0027t get no error in the test in 22.04 not locally or remotely. Seems like it was always a bit buggy in this section, and now with the addition of the cpu weight I believe it impacts the execution a bit a slows it a little bit down. \nI was able to decrease it to 0.5 seconds which is ok, like the other sleeps in this test.",
      "parentUuid": "9f1d1dc7_9036d6e5",
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62a6e056_d375c419",
        "filename": "sysproc.c",
        "patchSetId": 16
      },
      "lineNbr": 126,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-28T16:53:34Z",
      "side": 1,
      "message": "seems like it\u0027s a good time to split this method to handle different requests. \ne.g. sys_ioctl will call inline ioctl_process_cpu and ioctl_tty methods.",
      "range": {
        "startLine": 113,
        "startChar": 1,
        "endLine": 126,
        "endChar": 0
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff88293a_7f38b20f",
        "filename": "sysproc.c",
        "patchSetId": 16
      },
      "lineNbr": 126,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2024-08-29T12:22:13Z",
      "side": 1,
      "message": "TBH, now it looks even worse then in changeset#16. The method requires complete cleanup not just in case of IOCTL_GET_PROCESS_CPU_PERCENT, IOCTL_GET_PROCESS_CPU_TIME and TTYSETS requests. If you don\u0027t have a time for refactoring the sys_ioctl as a part of this change request, let\u0027s simply add IOCTL_GET_PROCESS_CPU_PERCENT and IOCTL_GET_PROCESS_CPU_TIME cases to the switch.",
      "parentUuid": "62a6e056_d375c419",
      "range": {
        "startLine": 113,
        "startChar": 1,
        "endLine": 126,
        "endChar": 0
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "29fb055f_faf5221a",
        "filename": "sysproc.c",
        "patchSetId": 16
      },
      "lineNbr": 126,
      "author": {
        "id": 1021119
      },
      "writtenOn": "2024-08-30T21:49:08Z",
      "side": 1,
      "message": "I tried to add them to the switch, but then the check in line 140 started to fail. the comment on this line also suggests this would happen (and suggests to refactor the driver itself). I suggest refactoring this function would be a separate ticket.",
      "parentUuid": "ff88293a_7f38b20f",
      "range": {
        "startLine": 113,
        "startChar": 1,
        "endLine": 126,
        "endChar": 0
      },
      "revId": "44124b2a3c2010cc0f88786fd74337a65d3ab856",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}